{"ast":null,"code":"var _jsxFileName = \"D:\\\\food_delivery\\\\frontend\\\\src\\\\context\\\\StoreContext.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport { food_list } from \"../assets/assets\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StoreContext = /*#__PURE__*/createContext(null);\nconst StoreContextProvider = props => {\n  _s();\n  const [cartItems, setCartItems] = useState({});\n  const addToCart = itemId => {\n    if (!cartItems[itemId]) {\n      setCartItems(prev => ({\n        ...prev,\n        [itemId]: 1\n      }));\n    } else {\n      setCartItems(prev => ({\n        ...prev,\n        [itemId]: prev[itemId] + 1\n      }));\n    }\n  };\n  const removeFromCart = itemId => {\n    setCartItems(prev => {\n      // If the item does not exist in the cart or its quantity is already 0, return the previous state\n      if (!prev[itemId] || prev[itemId] <= 0) {\n        return prev;\n      }\n\n      // Create a new state object\n      const newCartItems = {\n        ...prev\n      };\n\n      // Decrease the quantity of the item\n      newCartItems[itemId] -= 1;\n\n      // If the quantity is zero, you may optionally remove the item from the cart entirely\n      if (newCartItems[itemId] === 0) {\n        delete newCartItems[itemId];\n      }\n      return newCartItems;\n    });\n  };\n  const getTotalCartAmount = () => {\n    let totalAmount = 0;\n    for (const item in cartItems) {\n      if (cartItems[item] > 0) {\n        let itemInfo = food_list.find(product => product._id === item);\n        totalAmount += itemInfo.price * cartItems[item];\n      }\n    }\n    return totalAmount;\n  };\n  const contextValue = {\n    food_list,\n    cartItems,\n    setCartItems,\n    addToCart,\n    removeFromCart,\n    getTotalCartAmount\n  };\n  return /*#__PURE__*/_jsxDEV(StoreContext.Provider, {\n    value: contextValue,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(StoreContextProvider, \"4ucrX0zZUZfLxTiWawO3Gi8YhLk=\");\n_c = StoreContextProvider;\nexport default StoreContextProvider;\nvar _c;\n$RefreshReg$(_c, \"StoreContextProvider\");","map":{"version":3,"names":["createContext","useState","food_list","jsxDEV","_jsxDEV","StoreContext","StoreContextProvider","props","_s","cartItems","setCartItems","addToCart","itemId","prev","removeFromCart","newCartItems","getTotalCartAmount","totalAmount","item","itemInfo","find","product","_id","price","contextValue","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/food_delivery/frontend/src/context/StoreContext.jsx"],"sourcesContent":["\r\nimport { createContext, useState } from \"react\";\r\nimport { food_list } from \"../assets/assets\";\r\n\r\n\r\n\r\nexport const StoreContext = createContext(null);\r\n\r\nconst StoreContextProvider = (props) => {\r\n\r\n    const [cartItems,setCartItems] = useState({});\r\n\r\n    const addToCart = (itemId) => {\r\n        if(!cartItems[itemId]){\r\n            setCartItems((prev)=>({...prev,[itemId] : 1}))\r\n        }\r\n        else{\r\n            setCartItems((prev)=>({...prev,[itemId] : prev[itemId] + 1}))\r\n        }\r\n    }\r\n\r\n    const removeFromCart = (itemId) => {\r\n        setCartItems((prev) => {\r\n          // If the item does not exist in the cart or its quantity is already 0, return the previous state\r\n          if (!prev[itemId] || prev[itemId] <= 0) {\r\n            return prev;\r\n          }\r\n      \r\n          // Create a new state object\r\n          const newCartItems = { ...prev };\r\n      \r\n          // Decrease the quantity of the item\r\n          newCartItems[itemId] -= 1;\r\n      \r\n          // If the quantity is zero, you may optionally remove the item from the cart entirely\r\n          if (newCartItems[itemId] === 0) {\r\n            delete newCartItems[itemId];\r\n          }\r\n      \r\n          return newCartItems;\r\n        });\r\n      };\r\n\r\n   const getTotalCartAmount = () => {\r\n    let totalAmount = 0;\r\n    for(const item in cartItems){\r\n      if(cartItems[item] > 0){\r\n        let itemInfo = food_list.find((product)=>product._id === item);\r\n        totalAmount += itemInfo.price * cartItems[item];\r\n      }\r\n    }\r\n    return totalAmount;\r\n   }\r\n   const contextValue = {\r\n       food_list,\r\n       cartItems,\r\n       setCartItems,\r\n       addToCart,\r\n       removeFromCart,\r\n       getTotalCartAmount\r\n   }\r\n\r\n    return (\r\n        <StoreContext.Provider value={contextValue}>\r\n           {props.children}\r\n        </StoreContext.Provider>\r\n    )\r\n}\r\n\r\nexport default StoreContextProvider;"],"mappings":";;AACA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,SAAS,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAI7C,OAAO,MAAMC,YAAY,gBAAGL,aAAa,CAAC,IAAI,CAAC;AAE/C,MAAMM,oBAAoB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAEpC,MAAM,CAACC,SAAS,EAACC,YAAY,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE7C,MAAMU,SAAS,GAAIC,MAAM,IAAK;IAC1B,IAAG,CAACH,SAAS,CAACG,MAAM,CAAC,EAAC;MAClBF,YAAY,CAAEG,IAAI,KAAI;QAAC,GAAGA,IAAI;QAAC,CAACD,MAAM,GAAI;MAAC,CAAC,CAAC,CAAC;IAClD,CAAC,MACG;MACAF,YAAY,CAAEG,IAAI,KAAI;QAAC,GAAGA,IAAI;QAAC,CAACD,MAAM,GAAIC,IAAI,CAACD,MAAM,CAAC,GAAG;MAAC,CAAC,CAAC,CAAC;IACjE;EACJ,CAAC;EAED,MAAME,cAAc,GAAIF,MAAM,IAAK;IAC/BF,YAAY,CAAEG,IAAI,IAAK;MACrB;MACA,IAAI,CAACA,IAAI,CAACD,MAAM,CAAC,IAAIC,IAAI,CAACD,MAAM,CAAC,IAAI,CAAC,EAAE;QACtC,OAAOC,IAAI;MACb;;MAEA;MACA,MAAME,YAAY,GAAG;QAAE,GAAGF;MAAK,CAAC;;MAEhC;MACAE,YAAY,CAACH,MAAM,CAAC,IAAI,CAAC;;MAEzB;MACA,IAAIG,YAAY,CAACH,MAAM,CAAC,KAAK,CAAC,EAAE;QAC9B,OAAOG,YAAY,CAACH,MAAM,CAAC;MAC7B;MAEA,OAAOG,YAAY;IACrB,CAAC,CAAC;EACJ,CAAC;EAEJ,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAChC,IAAIC,WAAW,GAAG,CAAC;IACnB,KAAI,MAAMC,IAAI,IAAIT,SAAS,EAAC;MAC1B,IAAGA,SAAS,CAACS,IAAI,CAAC,GAAG,CAAC,EAAC;QACrB,IAAIC,QAAQ,GAAGjB,SAAS,CAACkB,IAAI,CAAEC,OAAO,IAAGA,OAAO,CAACC,GAAG,KAAKJ,IAAI,CAAC;QAC9DD,WAAW,IAAIE,QAAQ,CAACI,KAAK,GAAGd,SAAS,CAACS,IAAI,CAAC;MACjD;IACF;IACA,OAAOD,WAAW;EACnB,CAAC;EACD,MAAMO,YAAY,GAAG;IACjBtB,SAAS;IACTO,SAAS;IACTC,YAAY;IACZC,SAAS;IACTG,cAAc;IACdE;EACJ,CAAC;EAEA,oBACIZ,OAAA,CAACC,YAAY,CAACoB,QAAQ;IAACC,KAAK,EAAEF,YAAa;IAAAG,QAAA,EACvCpB,KAAK,CAACoB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAEhC,CAAC;AAAAvB,EAAA,CA3DKF,oBAAoB;AAAA0B,EAAA,GAApB1B,oBAAoB;AA6D1B,eAAeA,oBAAoB;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}